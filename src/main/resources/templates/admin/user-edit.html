<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head> 
    <title>Редактирование</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
</head>

<body>
    <header th:insert="blocks/headers :: header-admin-page"></header>

    <div class="container mt-5 mb-5 text-center">
        <h1>Редактирование данных пользователя</h1>
        <br>

        <form th:action="@{/adminpage/user/{id}(id=${user.id})}" method="post" th:object="${user}" style="display: inline-block; width: 25rem;">
            <!-- Скрытые поля, которые не меняем, если используем th:object="${user}"-->
            <input type="hidden" th:field="*{password}"/>
            <input type="hidden" th:field="*{role}"/>
            
            <label for="sername">Фамилия: </label>
            <input type="text" th:field="*{sername}" id="sername"/> <br>

            <label for="name">Имя: </label>
            <input type="text" th:field="*{name}" id="name"/> <br>

            <label for="patronymic">Отчество: </label>
            <input type="text" th:field="*{patronymic}" id="patronymic"/> <br>

            <div>
                <input type="radio" id="1" th:field="*{gender}" th:value="*{gender}" checked required/>
                <label for="1" th:text="*{gender}"/>
                <input type="radio" id="2" th:field="*{gender}" th:value="*{gender} == 'женщина' ? 'мужчина' : 'женщина'"/>
                <label for="2" th:text="*{gender} == 'женщина' ? 'мужчина' : 'женщина'"/>
            </div>

            <label for="birthday">День рождения: </label>
            <input type="text" th:field="*{birthday}" id="birthday"/> <br>

            <label for="email">Почта: </label>
            <input type="email" th:field="*{email}" id="email"/> <br>

            <div>
                <label>Статус лечения: </label>
                <input type="radio" id="1" th:field="*{status}" th:value="*{status}" checked required/>
                <label for="1" th:text="*{status}"/>
                <input type="radio" id="2" th:field="*{status}" th:value="*{status} == 'В процессе' ? 'Завершено' : 'В процессе'"/>
                <label for="2" th:text="*{status} == 'В процессе' ? 'Завершено' : 'В процессе'"/>
            </div>

            <!--<input type="text" th:value="${user.sername}" name="sername" placeholder="Введите фамилию" class="form-control"><br>
            <input type="text" th:value="${user.name}" name="name" placeholder="Введите имя" class="form-control"><br>
            <input type="text" th:value="${user.patronymic}" name="patronymic" placeholder="Введите отчество" class="form-control"><br>-->
            <!-- гендер -->
            <!--<div>
                <input type="radio" id="1" name="gender" th:value="${user.gender}" checked required/>
                <label for="1" th:text="${user.gender}"/>
                <input type="radio" id="2" name="gender" th:value="${user.gender} == 'женщина' ? 'мужчина' : 'женщина'"/>
                <label for="2" th:text="${user.gender} == 'женщина' ? 'мужчина' : 'женщина'"/>
            </div>-->
            <!--
            <div th:switch="${user.gender}">
                <div th:case="'мужчина'">
                    <input type="radio" id="1" name="gender" value="мужчина" checked required/>
                    <label for="1">мужчина</label>
                    <input type="radio" id="2" name="gender" value="женщина"/>
                    <label for="2">женщина</label>
                </div>
                <div th:case="'женщина'">
                    <input type="radio" id="1" name="gender" value="мужчина" required/>
                    <label for="1">мужчина</label>
                    <input type="radio" id="2" name="gender" value="женщина" checked/>
                    <label for="2">женщина</label>
                </div>
            </div>
            -->
            <!--<input type="text" th:value="${user.birthday}" name="birthday" placeholder="Введите день рождения" class="form-control"><br>
            <input type="email" th:value="${user.email}" name="email" placeholder="Введите почту" class="form-control"><br>
            <div>
                <input type="radio" id="1" name="status" th:value="${user.status}" checked required/>
                <label for="1" th:text="${user.status}"/>
                <input type="radio" id="2" name="status" th:value="${user.status} == 'В процессе' ? 'Завершено' : 'В процессе'"/>
                <label for="2" th:text="${user.status} == 'В процессе' ? 'Завершено' : 'В процессе'"/>
            </div>-->
            <br>
            <button type="submit" class="btn btn-success">Обновить</button>
            <a th:href="'/adminpage/user/' + ${user.id}" class="btn btn-secondary">Отмена</a>
        </form>

    </div>

    <div th:insert="blocks/footer :: footer"></div>
</body>

</html>