<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Questionnaires</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
</head>

<body>

    <header th:insert="blocks/headers :: header-user-page"></header>

    <div class="container mt-5">
        <h1 class="text-center"> Ваши результаты опросов </h1><br>

        <div class="p-3 mb-2 bg-light text-dark">
            <div class="row">
                <div class="col-md-2"></div>
                <div class="col-md-8 text-center" data-toggle="collapse" href="#collapseCAPS" role="button" aria-expanded="false" aria-controls="collapseCAPS">
                <strong>Шкала для клинической диагностики ПТСР (Clinical-administered PTSD Scale - CAPS)</strong>
                </div>
                <div class="col-md-2"></div>
            </div>
        </div>

        <div class="collapse" id="collapseCAPS">
            <div class="card card-body">

                <div th:if="${CAPSResults}"> 
                    <table class="table table-bordered table-hover">
                        <thead>
                            <th th:each="h : ${headers[0]}" th:text="${h}"/>
                        </thead>
                        <tbody>
                            <tr th:each="r, iter : ${CAPSResults}">
                                <td th:text="${iter.index}+1"></td>
                                <td th:text="${r.date}"></td>
                                <td th:text="${r.resultFrequency}"></td>
                                <td th:text="${r.resultIntensity}"></td>
                                <td>К ответам</td>
                                 <!-- <td><a th:href="'/questionnaires/CAPS/' + ${r.id}">К ответам</a></td> -->
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div th:unless="${CAPSResults}">
                    <p class="text-center"> Нет пройденных опросов </p>
                </div>

            </div>
        </div><br>


        <div class="p-3 mb-2 bg-light text-dark">
            <div class="row">
                <div class="col-md-2"></div>
                <div class="col-md-8 text-center" data-toggle="collapse" href="#collapseIESR" role="button" aria-expanded="false" aria-controls="collapseIESR">
                <strong>Шкала оценки влияния травматического события (Impact of Event Scale-R - IES-R)</strong>
                </div>
                <div class="col-md-2"></div>
            </div>
        </div>

        <div class="collapse" id="collapseIESR">
            <div class="card card-body">
                
                <div th:if="${IESRResults}"> 
                    <table class="table table-bordered table-hover">
                        <thead>
                            <th th:each="h : ${headers[1]}" th:text="${h}"/>
                        </thead>
                        <tbody>
                            <tr th:each="r, iter : ${IESRResults}">
                                <td th:text="${iter.index}+1"></td>
                                <td th:text="${r.date}"></td>
                                <td th:text="${r.resultIN}"></td>
                                <td th:text="${r.resultAV}"></td>
                                <td th:text="${r.resultAR}"></td>
                                <td>К ответам</td>
                                 <!-- <td><a th:href="'/questionnaires/IESR/' + ${r.id}">К ответам</a></td> -->
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div th:unless="${IESRResults}">
                    <p class="text-center"> Нет пройденных опросов </p>
                </div>

            </div>
        </div><br>


        <div class="p-3 mb-2 bg-light text-dark">
            <div class="row">
                <div class="col-md-2"></div>
                <div class="col-md-8 text-center" data-toggle="collapse" href="#collapseBHS" role="button" aria-expanded="false" aria-controls="collapseBHS">
                <strong>Шкала Безнадежности Бека (Beck Hopelessness Scale, BHS)</strong>
                </div>
                <div class="col-md-2"></div>
            </div>
        </div>

        <div class="collapse" id="collapseBHS">
            <div class="card card-body">
                
                <div th:if="${BHSResults}"> 
                    <table class="table table-bordered table-hover">
                        <thead>
                            <th th:each="h : ${headers[2]}" th:text="${h}"/>
                        </thead>
                        <tbody>
                            <tr th:each="r, iter : ${BHSResults}">
                                <td th:text="${iter.index}+1"></td>
                                <td th:text="${r.date}"></td>
                                <td th:text="${r.result}"></td>
                                <td>К ответам</td>
                                 <!-- <td><a th:href="'/questionnaires/BHS/' + ${r.id}">К ответам</a></td> -->
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div th:unless="${BHSResults}">
                    <p class="text-center"> Нет пройденных опросов </p>
                </div>
                
            </div>
        </div><br>


        <div class="p-3 mb-2 bg-light text-dark">
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-10 text-center" data-toggle="collapse" href="#collapseTOP8" role="button" aria-expanded="false" aria-controls="collapseTOP8">
                <strong>Опросник для оценки терапевтической динамики ПТСР «Treatment Outcome PTSD Scale» (TOP-8)</strong>
                </div>
                <div class="col-md-1"></div>
            </div>
        </div>

        <div class="collapse" id="collapseTOP8">
            <div class="card card-body">
                
                <div th:if="${TOP8Results}"> 
                    <table class="table table-bordered table-hover">
                        <thead>
                            <th th:each="h : ${headers[3]}" th:text="${h}"/>
                        </thead>
                        <tbody>
                            <tr th:each="r, iter : ${TOP8Results}">
                                <td th:text="${iter.index}+1"></td>
                                <td th:text="${r.date}"></td>
                                <td th:text="${r.result}"></td>
                                <td><a th:href="'/questionnaires/TOP8/' + ${r.id}">К ответам</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div th:unless="${TOP8Results}">
                    <p class="text-center"> Нет пройденных опросов </p>
                </div>
                
            </div>
        </div><br>
    </div>
   
    <div th:insert="blocks/footer :: footer"></div>
    
</body>
</html>